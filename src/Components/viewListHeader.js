import backButton from "../Assets/backButton.svg";
import EllipsesDefault from "../Assets/EllipsesDefault.svg";
import { useState, useEffect } from "react";
import DropDown from "./dropDown.js";

function ViewListHeader({
  setSelectedPage,
  selectedListId,
  lists,
  setLists,
  clicked,
}) {
  const [showDrop, setShowDrop] = useState(false);
  useEffect(() => {
    setShowDrop(false);
  }, [clicked]);
  let list = lists.find((list) => list.id === selectedListId);
  return (
    <div className="viewListHeader">
      {/* <img src={backButton} /> */}
      <svg
        className="backButton"
        onClick={() => {
          setSelectedPage("home");
        }}
        width="58"
        height="22"
        viewBox="0 0 58 22"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          className="backButtonContent"
          d="M7.87494 18.875C7.58708 18.875 7.29908 18.7651 7.07971 18.5454L0.329712 11.7954C-0.109741 11.356 -0.109741 10.644 0.329712 10.2046L7.07971 3.45459C7.51916 3.01514 8.23108 3.01514 8.67053 3.45459C9.10998 3.89404 9.10998 4.60596 8.67053 5.04541L2.71577 11L8.67123 16.9555C9.11069 17.3949 9.11069 18.1068 8.67123 18.5463C8.45151 18.766 8.16323 18.875 7.87494 18.875Z"
          fill="#505050"
        />
        <path
          className="backButtonContent"
          d="M16.3878 18V4.90909H19.1555V15.718H24.7678V18H16.3878ZM26.4595 18V8.18182H29.1825V18H26.4595ZM27.8274 6.91619C27.4226 6.91619 27.0753 6.78196 26.7855 6.51349C26.5 6.24077 26.3573 5.91477 26.3573 5.53551C26.3573 5.16051 26.5 4.83878 26.7855 4.57031C27.0753 4.29758 27.4226 4.16122 27.8274 4.16122C28.2323 4.16122 28.5774 4.29758 28.8629 4.57031C29.1527 4.83878 29.2976 5.16051 29.2976 5.53551C29.2976 5.91477 29.1527 6.24077 28.8629 6.51349C28.5774 6.78196 28.2323 6.91619 27.8274 6.91619ZM39.4429 10.9815L36.95 11.1349C36.9074 10.9219 36.8157 10.7301 36.6751 10.5597C36.5345 10.3849 36.3491 10.2464 36.119 10.1442C35.8932 10.0376 35.6226 9.98438 35.3072 9.98438C34.8853 9.98438 34.5295 10.0739 34.2397 10.2528C33.95 10.4276 33.8051 10.6619 33.8051 10.956C33.8051 11.1903 33.8988 11.3885 34.0863 11.5504C34.2738 11.7124 34.5956 11.8423 35.0515 11.9403L36.8285 12.2983C37.7831 12.4943 38.4947 12.8097 38.9635 13.2443C39.4322 13.679 39.6666 14.25 39.6666 14.9574C39.6666 15.6009 39.477 16.1655 39.0977 16.6513C38.7227 17.1371 38.2071 17.5163 37.5508 17.7891C36.8988 18.0575 36.1467 18.1918 35.2944 18.1918C33.9947 18.1918 32.9592 17.9212 32.1879 17.38C31.4209 16.8345 30.9713 16.093 30.8392 15.1555L33.5174 15.0149C33.5984 15.4112 33.7944 15.7138 34.1055 15.9226C34.4166 16.1271 34.815 16.2294 35.3008 16.2294C35.7781 16.2294 36.1616 16.1378 36.4514 15.9545C36.7454 15.767 36.8946 15.5263 36.8988 15.2322C36.8946 14.9851 36.7902 14.7827 36.5856 14.625C36.3811 14.4631 36.0657 14.3395 35.6396 14.2543L33.9393 13.9155C32.9805 13.7237 32.2667 13.3913 31.798 12.9183C31.3335 12.4453 31.1012 11.8423 31.1012 11.1094C31.1012 10.4787 31.2717 9.93537 31.6126 9.4794C31.9578 9.02344 32.4414 8.67188 33.0636 8.42472C33.69 8.17756 34.423 8.05398 35.2625 8.05398C36.5025 8.05398 37.4784 8.31605 38.19 8.8402C38.9059 9.36435 39.3236 10.0781 39.4429 10.9815ZM46.5136 8.18182V10.2273H40.6009V8.18182H46.5136ZM41.9432 5.82955H44.6663V14.983C44.6663 15.2344 44.7046 15.4304 44.7813 15.571C44.858 15.7074 44.9646 15.8033 45.1009 15.8587C45.2415 15.9141 45.4035 15.9418 45.5867 15.9418C45.7146 15.9418 45.8424 15.9311 45.9702 15.9098C46.0981 15.8842 46.1961 15.8651 46.2643 15.8523L46.6925 17.8786C46.5562 17.9212 46.3644 17.9702 46.1173 18.0256C45.8701 18.0852 45.5697 18.1214 45.216 18.1342C44.5597 18.1598 43.9844 18.0724 43.4901 17.8722C43.0001 17.6719 42.6187 17.3608 42.3459 16.9389C42.0732 16.517 41.939 15.9844 41.9432 15.3409V5.82955ZM56.2433 10.9815L53.7504 11.1349C53.7078 10.9219 53.6162 10.7301 53.4756 10.5597C53.335 10.3849 53.1496 10.2464 52.9195 10.1442C52.6936 10.0376 52.423 9.98438 52.1077 9.98438C51.6858 9.98438 51.33 10.0739 51.0402 10.2528C50.7504 10.4276 50.6056 10.6619 50.6056 10.956C50.6056 11.1903 50.6993 11.3885 50.8868 11.5504C51.0743 11.7124 51.396 11.8423 51.852 11.9403L53.629 12.2983C54.5835 12.4943 55.2952 12.8097 55.7639 13.2443C56.2327 13.679 56.4671 14.25 56.4671 14.9574C56.4671 15.6009 56.2774 16.1655 55.8982 16.6513C55.5232 17.1371 55.0075 17.5163 54.3513 17.7891C53.6993 18.0575 52.9472 18.1918 52.0949 18.1918C50.7952 18.1918 49.7597 17.9212 48.9884 17.38C48.2213 16.8345 47.7717 16.093 47.6396 15.1555L50.3179 15.0149C50.3989 15.4112 50.5949 15.7138 50.906 15.9226C51.2171 16.1271 51.6155 16.2294 52.1013 16.2294C52.5786 16.2294 52.9621 16.1378 53.2519 15.9545C53.5459 15.767 53.695 15.5263 53.6993 15.2322C53.695 14.9851 53.5906 14.7827 53.3861 14.625C53.1815 14.4631 52.8662 14.3395 52.4401 14.2543L50.7398 13.9155C49.781 13.7237 49.0672 13.3913 48.5985 12.9183C48.134 12.4453 47.9017 11.8423 47.9017 11.1094C47.9017 10.4787 48.0722 9.93537 48.4131 9.4794C48.7583 9.02344 49.2419 8.67188 49.8641 8.42472C50.4905 8.17756 51.2235 8.05398 52.0629 8.05398C53.303 8.05398 54.2788 8.31605 54.9905 8.8402C55.7064 9.36435 56.124 10.0781 56.2433 10.9815Z"
          fill="#505050"
        />
      </svg>

      <svg
        className="ellipses-view"
        onClick={(e) => {
          e.stopPropagation();
          setShowDrop((showDrop) => !showDrop);
        }}
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          className="ellipsesBackground"
          d="M0 4C0 1.79086 1.79086 0 4 0H28C30.2091 0 32 1.79086 32 4V28C32 30.2091 30.2091 32 28 32H4C1.79086 32 0 30.2091 0 28V4Z"
          fill="none"
        />
        <g clip-path="url(#clip0_2_861)" className="ellipsesDots">
          <path
            d="M20.375 16C20.375 14.9648 21.2148 14.125 22.25 14.125C23.2852 14.125 24.125 14.9648 24.125 16C24.125 17.0352 23.2852 17.875 22.25 17.875C21.2148 17.875 20.375 17.0352 20.375 16ZM14.125 16C14.125 14.9648 14.9648 14.125 16 14.125C17.0352 14.125 17.875 14.9648 17.875 16C17.875 17.0352 17.0352 17.875 16 17.875C14.9648 17.875 14.125 17.0352 14.125 16ZM11.625 16C11.625 17.0352 10.7855 17.875 9.75 17.875C8.71445 17.875 7.875 17.0352 7.875 16C7.875 14.9648 8.71445 14.125 9.75 14.125C10.7855 14.125 11.625 14.9648 11.625 16Z"
            fill="#242424"
          />
        </g>
        <defs>
          <clipPath id="clip0_2_861">
            <rect
              width="17.5"
              height="20"
              fill="white"
              transform="translate(7.25 6)"
            />
          </clipPath>
        </defs>
      </svg>
      {showDrop && (
        <DropDown
          setSelectedPage={setSelectedPage}
          list={list}
          lists={lists}
          setLists={setLists}
          view={true}
        />
      )}
    </div>
  );
}
export default ViewListHeader;
